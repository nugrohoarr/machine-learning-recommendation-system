generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  id          String    @id @default(uuid())
  name        String
  email       String    @unique
  password    String
  no_phone    String?   @unique
  hashRt      String?
  imageUrl    String?
  address     Address[]
  favorites   Favorite[]
  created_at  DateTime  @default(now())
  updated_at  DateTime? @updatedAt
}


model Address {
  id          String    @id @default(uuid())
  street      String
  city        String
  district    String
  province    String
  country     String
  postalCode  String
  detail      String?
  isMain      Boolean   @default(false)
  userId      String
  user        Users     @relation(fields: [userId], references: [id])
  latitude    Float    
  longitude   Float    
}
model Laundry {
  id              String      @id @default(uuid())
  laundry_id      Int         @unique
  name            String
  address         String
  operating_hours String
  website         String?   
  contact         String?
  maps            String?   
  service_type    String?
  imageUrl        String?
  favoritedBy     Favorite[]
}
model Favorite {
  id        String   @id @default(uuid())
  userId    String
  laundryId String

  user      Users    @relation(fields: [userId], references: [id])
  laundry   Laundry  @relation(fields: [laundryId], references: [id])

  @@unique([userId, laundryId])
}